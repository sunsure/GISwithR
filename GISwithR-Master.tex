\documentclass[a4paper,12pt]{article}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{eurosym}
\usepackage{vmargin}
\usepackage{amsmath}
\usepackage{graphics}
\usepackage{epsfig}
\usepackage{subfigure}
\usepackage{fancyhdr}
%\usepackage{listings}
\usepackage{framed}
\usepackage{graphicx}

\setcounter{MaxMatrixCols}{10}
%TCIDATA{OutputFilter=LATEX.DLL}
%TCIDATA{Version=5.00.0.2570}
%TCIDATA{<META NAME="SaveForMode" CONTENT="1">}
%TCIDATA{LastRevised=Wednesday, February 23, 2011 13:24:34}
%TCIDATA{<META NAME="GraphicsSave" CONTENT="32">}
%TCIDATA{Language=American English}

\pagestyle{fancy}
\setmarginsrb{20mm}{0mm}{20mm}{25mm}{12mm}{11mm}{0mm}{11mm}
\lhead{Dublin \texttt{R}} \rhead{May 2013}
\chead{Spatial Data Analysis with \texttt{R}}
%\input{tcilatex}


% http://spatialanalysis.co.uk/2013/04/analysis-visualisation-spatial-data/
\begin{document}

\tableofcontents
\newpage
\section*{Revolution Analytics}
\begin{figure}[h!]
\centering
\includegraphics[width=0.7\linewidth]{./RevolutionAnalytics}
\hspace{8\baselineskip} {\Large Sponsors of Dublin \texttt{R}}
%\label{fig:RevolutionAnalytics}
\end{figure}




\subsection*{About Revolution Analytics}
Revolution Analytics is a statistical software company focused on developing "open-core" versions of the free and open source software R for enterprise, academic and analytics customers. 
\\
\\
\noindent Revolution Analytics was founded in 2007 as REvolution Computing providing support and services for R in a model similar to Red Hat's approach with Linux in the 1990s as well as bolt-on additions for parallel processing. 
\\
\\
\noindent Their core product, Revolution R, would be offered free to academic users and their commercial software would focus on big data, large scale multiprocessor (or "high performance") computing, and multi-core functionality.
\newpage
%---------------------------------------------------- %
\section{Contour Plots}
\begin{figure}[h]
\centering
\includegraphics[width=0.7\linewidth]{./Contour1}
\caption{}
\label{fig:Contour1}
\end{figure}

\newpage
\section{Data Types}
The different types
of data models that we distinguish here include the following:
\begin{description}
\item[Point], a single point location, such as a GPS reading or a geocoded address
\item[Line], a set of ordered points, connected by straight line segments
\item[Polygon], an area, marked by one or more enclosing lines, possibly containing
holes
\item[Grid], a collection of points or rectangular cells, organised in a regular lattice
\end{description}
%--------------------------------------------------- %
\section{GIS and Spatial Data}
The \texttt{sp} package provides classes and methods for points, lines, polygons, and grids . 

Adopting a single set of classes for spatial data
offers a number of important advantages:
\begin{itemize}
\item[(i)] It is much easier to move data across spatial statistics packages. The
classes are either supported directly by the packages, reading and writing
data in the new spatial classes, or indirectly, for example by supplying
data conversion between the sp classes and the package?s classes in an
interface package. This last option requires one-to-many links between the
packages, which are easier to provide and maintain than many-to-many
links.
\item[(ii)] The new classes come with a well-tested set of methods (functions) for
plotting, printing, subsetting, and summarising spatial objects, or combining
(overlaying) spatial data types.
\item[(iii)] Packages with interfaces to geographical information systems (GIS), for
reading and writing GIS file formats, and for coordinate (re)projection
code support the new classes.
\item[(iv)] The new methods include Lattice plots, conditioning plots, plot methods
that combine points, lines, polygons, and grids with map elements (reference
grids, scale bars, north arrows), degree symbols (as in 52-N) in axis
labels, etc.
\end{itemize}
%---------------------------------------------%
\section{Important Packages}


\documentclass[12pt]{article}
\usepackage{framed}
\usepackage{amsmath}
%opening
\title{GIS with \texttt{R}}
\author{Dublin \texttt{R}}

\begin{document}

\maketitle

\begin{abstract}
A series of eight short demonstrations of R's mapping and spatial statistics capability.
\end{abstract}
%----------------------------------------------- %
\newpage
\tableofcontents
\newpage
%----------------------------------------------- %
\section*{Overview of Workshop}
\begin{enumerate}
\item The \textit{\textbf{maproj}} package
\item The \textit{\textbf{ggmap}} package (David Kahle and Hadley Wickham )
\item 
\end{enumerate}

%----------------------------------------------- %
\newpage
\section{New Book}
Creating a geographical map using \textit{\textbf{ggplot2}}
\begin{framed}
\begin{verbatim}
library(maps)
states_map <-map_data("state")

ggplot(states_map, aes (x=long,y=lat,group=group)) +
 geom_polygon(fill="white",colour="black")


ggplot(states_map, aes (x=long,y=lat,group=group)) + 
geom_path() + coord_map(fill="mercator")

\end{verbatim}
\end{framed}

The \texttt{map$\_$data()} returns a data frame with the following columns:
\begin{itemize}
\item \texttt{long}
\item \texttt{lat}
\item \texttt{group}
\item order
\item region
\item subregion
\end{itemize}

Available Maps : 
world, nz,france,italy,usa, state ,county,
%----------------------------------------------- %
% Maps
%
\newpage
\section{Using \textit{map} package}
\textit{\textbf{maps:}}: Draw Geographical Maps

Display of maps. Projection code and larger maps are in separate packages (mapproj and mapdata).

%----------------------------------------------- %
% Maptools
%

\newpage
\section{Using \textit{maptools} package}
\textit{\textbf{maptools}}: Tools for reading and handling spatial objects (Roger Bivand)

\bigskip

\textit{Set of tools for manipulating and reading geographic data, in particular ESRI shapefiles; C code used from shapelib. It includes binary access to GSHHS shoreline files.}

\textit{The package also provides interface wrappers for exchanging spatial objects with packages such as PBSmapping, spatstat, maps, RArcInfo, Stata tmap, WinBUGS, Mondrian, and others.}
%----------------------------------------------- %
\newpage
% New Book Page 315
\section{Using \textit{mapdata} for making maps}
\
%----------------------------------------------- %
\newpage
\section{Cholorpleth Map}
% New Book Page 317
Maps coloured aoording to variable valued

\begin{framed}
\begin{verbatim}
crimes <- data.frame(state= tolower(rownames(USArrests)),USArrests)

library(maps)
states_map <- map_data("state")

crime_map= merge(state_map,crimes,by.x="region", by.y="state")
\end{verbatim}
\end{framed}

\subsection*{Diverging Colour Scale.}
%----------------------------------------------- %
% ggmap
% http://blog.revolutionanalytics.com/2012/07/making-beautiful-maps-in-r-with-ggmap.html
%----------------------------------------------- %

\newpage
\section{Using \textit{ggmap} for making maps}

%--------------------- %
\begin{framed}
\begin{verbatim}
library(ggmap)
geocode("Dublin Castle")
\end{verbatim}
\end{framed}
This yields the longtitude (EW) and the latitude (NS) for Dublin Castle.


\begin{verbatim}
> geocode("Dublin Castle")
...
Google Maps API Terms of Service : http://developers.google.com/maps/terms
        lon      lat
1 -6.266327 53.34387
\end{verbatim}

\textbf{Exercise:} Try it out for a few other \textit{\textbf{viable}} locations.
\begin{itemize}
\item Cork, Rosslare, Limerick, Westport, Sligo, Rockall, Belfast.
\item New York, Madrid, Rome, Moscow, Auckland, Tokyo
\end{itemize}
 
\subsection*{A Different Dublin Castle?}
The Dublin Castle Pub in Cambden Town London.
\begin{verbatim}
> geocode("Dublin Castle, Cambden")
....
Google Maps API Terms of Service : http://developers.google.com/maps/terms
         lon      lat
1 -0.1456995 51.53742 
\end{verbatim}

%--------------------- %
\newpage
\section{RColorBrewer}


%--------------------- %

\newpage
\section{Projected Maps}
%
% http://geography.uoregon.edu/GeogR/examples/maps_examples02.htm
% http://geography.uoregon.edu/GeogR/examples/maps_examples01.htm
The \texttt{sp} class and \textit{\textbf{maptools}} package provide a mechanism for doing projected maps.  (Note that the projection parameters used in the example here are not really appropriate for the area being plotted, but were chosen to make the fact that the data are projected evident.)

First, load the \textit{\textbf{rgdal}} package
%-------------- %
\begin{verbatim}
library(rgdal)
\end{verbatim}
%-------------- %
This example plots a projected map of Oregon climate station data where the data are contained in the  in the orstations shapefile.  The first block of code does some set up (class intervals and colors, etc.)
\begin{framed}
\begin{verbatim}
# equal-frequency class intervals -- spplot & projected
plotvar <- orstations.shp@data$tann # gets data from shapefile .dbf
nclr <- 8
plotclr <- brewer.pal(nclr,"PuOr")
plotclr <- plotclr[nclr:1] # reorder colours
class <- classIntervals(plotvar, nclr, style="quantile")
colcode <- findColours(class, plotclr)
basemap <- list("sp.lines", orotl.shp, fill=NA)
\end{verbatim}
\end{framed}


\end{document}
\end{document}

